{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/SignIn.js","components/screens/Profile.js","components/screens/Signup.js","components/screens/CreatePost.js","reducers/useReducer.js","components/screens/UserProfile.js","components/screens/SubscribeUserPosts.js","App.js","reportWebVitals.js","index.js"],"names":["NavBar","searchModal","useRef","_useState","useState","_useState2","_slicedToArray","search","setSearch","_useState3","_useState4","userDetails","setUserDetails","_useContext","useContext","UserContext","state","dispatch","history","useHistory","useEffect","M","Modal","init","current","_jsxs","children","className","_jsx","Link","to","id","data-target","style","color","onClick","localStorage","clear","type","push","ref","placeholder","value","onChange","e","query","target","fetch","method","headers","body","JSON","stringify","then","res","json","results","user","map","item","_id","getInstance","close","email","Home","data","setData","getItem","result","posts","padding","postedBy","name","float","postid","concat","console","log","newData","filter","src","photo","likes","includes","postId","catch","err","length","title","comments","record","fontWeight","text","onSubmit","preventDefault","SignIn","password","setPassword","setEmail","test","error","toast","html","message","classes","setItem","token","payload","Profile","mypics","setPics","image","setImage","_useState5","_useState6","mypost","FormData","append","pic","url","_objectSpread","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","followers","following","file","files","alt","setName","_useState7","_useState8","_useState9","undefined","_useState10","setUrl","uploadFields","PostData","uploadPic","CreatePost","setTitle","setBody","textAlign","postDetails","reducer","action","userProfile","setProfile","userid","useParams","showfollow","setShowFollow","_Fragment","followId","prevState","_toConsumableArray","unfollowId","newFollower","createContext","Routing","parse","Switch","Route","exact","path","Signin","Signup","UserProfile","SubscribeUserPosts","App","_useReducer","useReducer","_useReducer2","Provider","BrowserRouter","reportWebVitals","onPerfEntry","Function","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.972e7a18.chunk.js","sourcesContent":["import React, { useContext, useRef, useEffect, useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { UserContext } from '../App'\nimport M from 'materialize-css'\n\nconst NavBar = () => {\n  const searchModal = useRef(null)\n  const [search, setSearch] = useState('')\n  const [userDetails,setUserDetails] = useState([])\n  const { state, dispatch } = useContext(UserContext)\n  const history = useHistory()\n  useEffect(() => {\n    M.Modal.init(searchModal.current)\n  }, [])\n  const renderList = () => {\n    if (state) {\n      return [\n        <li key=\"1\"><i data-target=\"modal1\" className=\"large material-icons modal-trigger\" style={{ color: \"black\" }}>search</i></li>,\n        <li key=\"2\"><Link to=\"/profile\">自己</Link></li>,\n        <li key=\"3\"><Link to=\"/create\">PO文</Link></li>,\n        <li key=\"4\"><Link to=\"/myfollowingpost\">追蹤</Link></li>,\n        <li key=\"5\">\n          <button className=\"btn #c62828 red darken-3\"\n            onClick={() => {\n            localStorage.clear()\n              dispatch({ type: \"CLEAR\" })\n              history.push('/signin')\n            }}\n          >\n            Logout\n          </button>\n        </li>\n      ]\n    } else {\n      return [\n        <li key=\"6\"><Link to=\"/signin\">Signin</Link></li>,\n        <li key=\"7\"><Link to=\"/signup\">Signup</Link></li>\n      ]\n    }\n  }\n\n  const fetchUsers = (query)=>{\n    setSearch(query)\n    fetch('/search-users',{\n      method:\"post\",\n      headers:{\n        \"Content-Type\":\"application/json\"\n      },\n      body:JSON.stringify({\n        query\n      })\n    }).then(res=>res.json())\n    .then(results=>{\n      setUserDetails(results.user)\n    })\n  }\n\n  return (\n    <nav>\n      <div className=\"nav-wrapper white\" >\n        <Link to={state ? \"/\" : \"/signin\"} className=\"brand-logo left\">\n          SheepCloud\n          {/* {console.log(\"********** in Navbar.js conditioning **************\")} */}\n        </Link>\n        <ul id=\"nav-mobile\" className=\"right \">\n          {renderList()}\n        </ul>\n      </div>\n      <div id=\"modal1\" className=\"modal\" ref={searchModal} style={{ color: \"black\" }}>\n        <div className=\"modal-content\">\n          <input\n            type=\"text\"\n            placeholder=\"search users\"\n            value={search}\n            onChange={(e) => fetchUsers(e.target.value)}\n          />\n\n          <ul className=\"collection\">\n            {userDetails.map(item=>{\n              return <Link to={item._id !== state._id ? \"/profile/\"+item._id:\"/profile\"} onClick={()=>{\n                M.Modal.getInstance(searchModal.current).close()\n                setSearch('')\n              }}><li className=\"collection-item\">{item.email}</li></Link>\n            })}\n\n          </ul>\n        </div>\n        <div className=\"modal-footer\">\n          <button className=\"modal-close waves-effect waves-green btn-flat\"onClick={()=>setSearch('')}>close</button>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default NavBar","import React,{useState,useEffect,useContext} from 'react'\nimport {UserContext} from '../../App'\nimport {Link} from 'react-router-dom'\n\nconst Home = ()=>{\n    const [data,setData] = useState([])\n    const {state,dispatch} = useContext(UserContext)\n    useEffect(()=>{\n        fetch('/allpost',{\n            headers: {\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            // console.log(result)\n            setData(result.posts)  \n        })\n    },[])\n\n    const likePost = (id)=>{\n        fetch('/like',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            //console.log(result)\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }else{\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n\n\n    const unlikePost = (id)=>{\n        fetch('/unlike',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }else{\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n\n\n    const makeComment = (text,postId)=>{\n        fetch('/comment',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId,\n                text\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }else{\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n    \n    const deletePost =(postid) =>{\n        fetch(`/deletepost/${postid}` ,{\n            method:\"delete\",\n            headers:{\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.filter(item=>{\n                return item._id !== result._id\n            })\n            setData(newData)\n        })\n    }\n\n\n\n    return (\n        <div className=\"home\">\n            {\n                data.map(item=>{\n                    return(\n                        <div className=\"card home-card\" key={item._id}>\n                          \n                            <h5 style={{padding:\"5px\"}} >\n                              <Link to={item.postedBy._id !== state._id?\"/profile/\"+item.postedBy._id:\"/profile\"}>{item.postedBy.name}</Link> \n                              \n                              {item.postedBy._id == state._id && \n                            <i \n                              className=\"material-icons\" \n                              style={{float:\"right\"}}\n                              onClick={()=>deletePost(item._id)}\n                            >\n                              delete\n                            </i>\n                            }\n                            </h5>\n\n                            <div className=\"card-image\">\n                                <img src={item.photo}/>\n                            </div>\n                            <div className=\"card-content\">\n                                <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\n                                {item.likes.includes(state._id)\n\n                                ?\n                                <i className=\"material-icons\"\n                                    onClick={()=>{unlikePost(item._id)}}\n                                >thumb_down</i>\n                                :\n                                \n                                <i className=\"material-icons\"\n                                    onClick={()=>{likePost(item._id)}}\n                                >thumb_up</i>\n                                }\n\n\n                                <div>未來分享按鈕</div>\n\n\n                                <h6>{item.likes.length} likes</h6>\n                                <h6>{item.title}</h6>\n                                <p>{item.body}</p>\n                                {\n                                    item.comments.map(record=>{\n                                        return(\n                                            <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span>{record.text}</h6>\n                                        )\n                                    })\n                                }\n                                <form onSubmit={(e)=>{\n                                    e.preventDefault()\n                                    makeComment(e.target[0].value,item._id)\n                                }}>\n                                    <input type=\"text\" placeholder=\"add a comment\"/>\n                                </form>\n                                \n                            </div>\n                        </div>\n                    )\n                })\n            }    \n        </div>\n    )\n}\n\nexport default Home","import React,{useState,useContext} from 'react'\nimport {UserContext} from '../../App'\nimport {Link,useHistory} from 'react-router-dom'\nimport M from 'materialize-css'\n\nconst SignIn = ()=>{\n\n        const {state,dispatch} = useContext(UserContext)\n        const history = useHistory();\n        const [password,setPassword] = useState(\"\")\n        const [email,setEmail] = useState(\"\")\n        const PostData = ()=>{\n            // console.log(email,password)\n            if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\n                M.toast({html: \"invalid email\",classes:\"#c62828 red darken-3\"})\n                return \n            }\n            fetch(\"/signin\",{\n                method:\"post\",\n                headers:{\n                    \"Content-Type\":\"application/json\"\n                },\n                body:JSON.stringify({\n                    password,\n                    email\n                })\n            }).then(res=>res.json())\n            .then(data=>{\n                // console.log(data)\n                if(data.error){\n                    M.toast({html: data.message,classes:\"#c62828 red darken-3\"})\n                }\n                else{\n                    localStorage.setItem(\"jwt\",data.token)\n                    localStorage.setItem(\"user\",JSON.stringify(data.user))\n                    dispatch({type:\"USER\",payload:data.user})\n                    M.toast({html:\"signedin success\",classes:\"#43a047 green darken-1\"})\n                    history.push('/')\n                }\n            }).catch(err=>{\n                console.log(err)\n            })\n        }\n    \n    return (\n        <div className=\"mycard\">\n             <div className=\"card auth-card input-field\">\n                <h2>Sheep Cloud</h2>\n                <input \n                type=\"text\"\n                placeholder=\"email\"\n                value={email}\n                onChange={(e)=>setEmail(e.target.value)}\n                />\n                <input \n                type=\"password\"\n                placeholder=\"password\"\n                value={password}\n                onChange={(e)=>setPassword(e.target.value)}\n                />\n                <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" \n                onClick={()=>PostData(\"login\")}\n                >\n                    Login\n                </button>\n                {/* <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" \n                onClick={()=>{\n                    PostData()\n                }}\n                >\n                    快速測試Login\n                </button> */}\n                <div>測試帳號 yale918@gmail.com / 12345</div>\n                <h5>\n                    <Link to=\"/signup\">Don't have an account ?</Link>\n                </h5>\n            </div>\n        </div>\n    )\n}\n\nexport default SignIn","import React, { useEffect, useState, useContext } from 'react'\nimport { UserContext } from '../../App'\n\nconst Profile = () => {\n  const [mypics, setPics] = useState([])\n  const { state, dispatch } = useContext(UserContext)\n  const [image, setImage] = useState(\"\")\n  const [url, setUrl] = useState(\"\")\n\n  useEffect(() => {\n\n    fetch('/mypost', {\n      headers: {\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json())\n      .then(result => {\n        console.log(result)\n        setPics(result.mypost)\n      })\n  }, [])\n\n  useEffect(() => {\n    if (image) {\n      const data = new FormData()\n      data.append(\"file\", image)\n      data.append(\"upload_preset\", \"insta-clone\")\n      data.append(\"cloud_name\", \"yalecloud\")\n      fetch(\"https://api.cloudinary.com/v1_1/yalecloud/image/upload\", {\n        method: \"post\",\n        body: data\n      })\n        .then(res => res.json())\n        .then(data => {\n          //localStorage.setItem(\"user\",JSON.stringify({...state,pic:data.url}))\n          //dispatch({type:\"UPDATEPIC\",payload:data.url})\n          fetch('/updatepic',{\n            method:\"put\",\n            headers:{\n              \"Content-Type\":\"application/json\",\n              \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n              pic:data.url\n            })\n          }).then(res=>res.json())\n          .then(result=>{\n            console.log(result)\n            localStorage.setItem(\"user\",JSON.stringify({...state,pic:data.pic}))\n            dispatch({type:\"UPDATEPIC\",payload:result.pic})\n            //window.location.reload()\n          })\n          \n        })\n        .catch(err => {\n          console.log(err)\n        })\n    }\n  }, [image])\n\n  const updatePhoto = (file) => {\n    setImage(file)\n  }\n  return (\n    <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\n      <div style={{\n        margin: \"18px 0px\",\n        borderBottom: \"1px solid grey\"\n      }}>\n\n\n        <div style={{\n          display: \"flex\",\n          justifyContent: \"space-around\",\n        }}>\n          <div>\n            <img style={{ width: \"160px\", height: \"160px\", borderRadius: \"80px\" }}\n              src={state ? state.pic : \"loading\"}\n            />\n\n          </div>\n          <div>\n            <h4>{state ? state.name : \"loading\"}</h4>\n            <h5>{state ? state.email : \"loading\"}</h5>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"108%\" }}>\n              <h6>{mypics.length} posts</h6>\n              <h6>{state ? state.followers.length : \"0\"} followers</h6>\n              <h6>{state ? state.following.length : \"0\"} following</h6>\n            </div>\n\n          </div>\n        </div>\n\n        <div className=\"file-field input-field\" style={{ margin: \"10px\" }}>\n          <div className=\"btn #64b5f6 blue darken-1\">\n            <span>Update pic</span>\n            <input type=\"file\" onChange={(e) => updatePhoto(e.target.files[0])} />\n          </div>\n          <div className=\"file-path-wrapper\">\n            <input className=\"file-path validate\" type=\"text\" />\n          </div>\n        </div>\n      </div>\n      <div className=\"gallery\">\n        {\n          mypics.map(item => {\n            return (\n              <img key={item._id} className=\"item\" src={item.photo} alt={item.title}></img>\n\n            )\n          })\n        }\n\n\n      </div>\n    </div>\n  )\n}\n\nexport default Profile","import React, { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport M from 'materialize-css'\nconst SignIn = () => {\n  const history = useHistory();\n  const [name, setName] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [image, setImage] = useState(\"\")\n  const [url, setUrl] = useState(undefined)\n\n\n  useEffect(() => {\n    if (url) {\n      uploadFields()\n    }\n  }, [url])\n\n  const uploadPic = () => {\n    const data = new FormData()\n    data.append(\"file\", image)\n    data.append(\"upload_preset\", \"insta-clone\")\n    data.append(\"cloud_name\", \"yalecloud\")\n    fetch(\"https://api.cloudinary.com/v1_1/yalecloud/image/upload\", {\n      method: \"post\",\n      body: data\n    })\n      .then(res => res.json())\n      .then(data => {\n        setUrl(data.url)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  const uploadFields = () => {\n    if (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\n      M.toast({ html: \"invalid email\", classes: \"#c62828 red darken-3\" })\n      return\n    }\n    fetch(\"/signup\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name,\n        password,\n        email,\n        pic:url\n      })\n    }).then(res => res.json())\n      .then(data => {\n        if (data.error) {\n          M.toast({ html: data.error, classes: \"#c62828 red darken-3\" })\n        }\n        else {\n          M.toast({ html: data.message, classes: \"#43a047 green darken-1\" })\n          history.push('/signin')\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n  }\n\n  const PostData = () => {\n    if (image) {\n      uploadPic()\n    } else {\n      uploadFields()\n    }\n  }\n\n  return (\n    <div className=\"mycard\">\n      <div className=\"card auth-card input-field\">\n        <h2>Sheep Cloud</h2>\n        <input\n          type=\"text\"\n          placeholder=\"name\"\n          value={name}\n          onChange={(e) => {\n            setName(e.target.value)\n          }}\n          \n        />\n        <input\n          type=\"text\"\n          placeholder=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <div className=\"file-field input-field\">\n          <div className=\"btn #64b5f6 blue darken-1\">\n            <span>Upload pic</span>\n            <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\n          </div>\n          <div className=\"file-path-wrapper\">\n            <input className=\"file-path validate\" type=\"text\" />\n          </div>\n        </div>\n        <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n          onClick={() => PostData()}\n        >\n          SignUP\n        </button>\n        <h5>\n          <Link to=\"/signin\">Already have an account ?</Link>\n        </h5>\n      </div>\n    </div>\n  )\n}\n\nexport default SignIn","import React,{useState,useEffect} from 'react'\nimport M from 'materialize-css'\nimport {useHistory} from 'react-router-dom'\n\nconst CreatePost = ()=>{\n    const history = useHistory()\n    const [title,setTitle] = useState(\"\")\n    const [body,setBody] = useState(\"\")\n    const [image,setImage] = useState(\"\")\n    const [url,setUrl] = useState(\"\")\n    useEffect(()=>{\n        if(url){\n        console.log(\"hi\")\n        fetch(\"/createpost\",{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                title,\n                body,\n                pic:url\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n\n            if(data.error){\n                M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\n            }\n            else{\n                M.toast({html:\"created post successfully\",classes:\"#43a047 green darken-1\"})\n                history.push('/')\n            }\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n    },[url])\n\n    const postDetails = ()=>{\n        const data = new FormData()\n        data.append(\"file\",image)\n        data.append(\"upload_preset\",\"insta-clone\")\n        data.append(\"cloud_name\",\"yalecloud\")\n        fetch(\"https://api.cloudinary.com/v1_1/yalecloud/image/upload\" ,{\n            method:\"post\",\n            body:data\n        })\n        .then(res=>res.json())\n        .then(data=>{\n           setUrl(data.url)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n    }\n\n\n    return(\n        <div className=\"card input-filed\"\n        style={{\n            margin:\"30px auto\",\n            maxWidth:\"500px\",\n            padding:\"20px\",\n            textAlign:\"center\"\n        }}\n        >\n            <input \n            type=\"text\" \n            placeholder=\"title\"\n            value={title}\n            onChange={(e)=>setTitle(e.target.value)}\n            />\n            <input \n            type=\"text\" \n            placeholder=\"body\"\n            value={body}\n            onChange={(e)=>setBody(e.target.value)}\n            />\n            <div className=\"file-field input-field\">\n            <div className=\"btn #64b5f6 blue darken-1\">\n                <span>Upload Image</span>\n                <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])}/>\n            </div>\n            <div className=\"file-path-wrapper\">\n                <input className=\"file-path validate\" type=\"text\" />\n            </div>\n            </div>\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" \n            onClick={()=>postDetails()}\n            >\n                    Submit post\n                </button>\n        </div>\n    )\n}\n\nexport default CreatePost","export const initialState = null\n\nexport const reducer = (state,action)=>{\n    if(action.type==\"USER\"){\n        return action.payload\n    }\n    if(action.type==\"CLEAR\"){\n        return null\n    }\n    if(action.type==\"UPDATE\"){\n      return {\n        ...state,\n        followers:action.payload.followers,\n        following:action.payload.following\n      }\n    }\n    if(action.type==\"UPDATEPIC\"){\n      return{\n        ...state,\n        pic:action.payload\n      }\n    }\n    return state\n}","import React, { useEffect, useState, useContext } from 'react'\nimport { UserContext } from '../../App'\nimport { useParams } from 'react-router-dom'\n\nconst Profile = () => {\n  const [userProfile, setProfile] = useState(null)\n  const { state, dispatch } = useContext(UserContext)\n  const { userid } = useParams()\n  const [showfollow, setShowFollow] = useState(state?!state.following.includes(userid):true)\n\n\n  //console.log(userid)\n  useEffect(() => {\n    fetch(`/user/${userid}`, {\n      headers: {\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json())\n      .then(result => {\n        //console.log(result)\n\n        setProfile(result)\n      })\n  }, [])\n\n\n  const followUser = () => {\n    fetch('/follow', {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        followId: userid\n      })\n    }).then(res => res.json())\n      .then(data => {\n        console.log(data)\n        dispatch({ type: \"UPDATE\", payload: { following: data.following, followers: data.followers } })\n        localStorage.setItem(\"user\", JSON.stringify(data))\n\n        setProfile((prevState) => {\n          return {\n            ...prevState,\n            user: {\n              ...prevState.user,\n              followers: [...prevState.user.followers, data._id]\n            }\n          }\n        })\n        setShowFollow(false)\n      })\n  }\n\n  const unfollowUser = () => {\n    fetch('/unfollow', {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        unfollowId: userid\n      })\n    }).then(res => res.json())\n      .then(data => {\n\n        dispatch({ type: \"UPDATE\", payload: { following: data.following, followers: data.followers } })\n        localStorage.setItem(\"user\", JSON.stringify(data))\n        setProfile((prevState) => {\n          const newFollower = prevState.user.followers.filter(item=>item != data._id)\n          return {\n            ...prevState,\n            user: {\n              ...prevState.user,\n              followers: newFollower\n            }\n          }\n        })\n        setShowFollow(true)\n        \n      })\n  }\n\n\n  return (\n    <>\n      {userProfile ?\n        <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\n          <div style={{\n            display: \"flex\",\n            justifyContent: \"space-around\",\n            margin: \"18px 0px\",\n            borderBottom: \"1px solid grey\"\n          }}>\n            <div>\n              <img style={{ width: \"160px\", height: \"160px\", borderRadius: \"80px\" }}\n                src={userProfile.user.pic}\n              />\n            </div>\n            <div>\n              <h4>{userProfile.user.name}</h4>\n              <h5>{userProfile.user.email}</h5>\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"108%\" }}>\n                <h6>{userProfile.posts.length} posts</h6>\n                <h6>{userProfile.user.followers.length} followers</h6>\n                <h6>{userProfile.user.following.length} following</h6>\n              </div>\n              {\n                showfollow ?\n                  <button style={{\n                    margin:\"10px\"\n                  }} \n                    className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n                    onClick={() => followUser()}\n                  >\n                    Follow\n                  </button>\n                  :\n                  <button style={{\n                    margin:\"10px\"\n                  }} \n                    className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n                    onClick={() => unfollowUser()}\n                  >\n                    UnFollow\n                  </button>\n              }\n\n\n\n            </div>\n          </div>\n\n          <div className=\"gallery\">\n            {\n              userProfile.posts.map(item => {\n                return (\n                  <img key={item._id} className=\"item\" src={item.photo} alt={item.title}></img>\n\n                )\n              })\n            }\n\n\n          </div>\n        </div>\n\n        : <h2>loading...!</h2>}\n\n    </>\n  )\n}\n\nexport default Profile","import React, { useState, useEffect, useContext } from 'react'\nimport { UserContext } from '../../App'\nimport { Link } from 'react-router-dom'\n\nconst Home = () => {\n  const [data, setData] = useState([])\n  const { state, dispatch } = useContext(UserContext)\n  useEffect(() => {\n    fetch('/getsubpost', {\n      headers: {\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json())\n      .then(result => {\n        console.log(result)\n        setData(result.posts)\n      })\n  }, [])\n\n\n\n  const likePost = (id) => {\n    fetch('/like', {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        postId: id\n      })\n    }).then(res => res.json())\n      .then(result => {\n        //console.log(result)\n        const newData = data.map(item => {\n          if (item._id == result._id) {\n            return result\n          } else {\n            return item\n          }\n        })\n        setData(newData)\n      }).catch(err => {\n        console.log(err)\n      })\n  }\n\n\n  const unlikePost = (id) => {\n    fetch('/unlike', {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        postId: id\n      })\n    }).then(res => res.json())\n      .then(result => {\n        const newData = data.map(item => {\n          if (item._id == result._id) {\n            return result\n          } else {\n            return item\n          }\n        })\n        setData(newData)\n      }).catch(err => {\n        console.log(err)\n      })\n  }\n\n\n  const makeComment = (text, postId) => {\n    fetch('/comment', {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        postId,\n        text\n      })\n    }).then(res => res.json())\n      .then(result => {\n        console.log(result)\n        const newData = data.map(item => {\n          if (item._id == result._id) {\n            return result\n          } else {\n            return item\n          }\n        })\n        setData(newData)\n      }).catch(err => {\n        console.log(err)\n      })\n  }\n\n  const deletePost = (postid) => {\n    fetch(`/deletepost/${postid}`, {\n      method: \"delete\",\n      headers: {\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json())\n      .then(result => {\n        console.log(result)\n        const newData = data.filter(item => {\n          return item._id !== result._id\n        })\n        setData(newData)\n      })\n  }\n\n\n\n  return (\n    <div className=\"home\">\n      {\n        data.map(item => {\n          return (\n            <div className=\"card home-card\" key={item._id}>\n\n              <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id ? \"/profile/\" + item.postedBy._id : \"/profile\"}>{item.postedBy.name}</Link> {item.postedBy._id == state._id\n                && <i className=\"material-icons\" style={{\n                  float: \"right\"\n                }}\n                  onClick={() => deletePost(item._id)}\n                >delete</i>\n              }</h5>\n              <div className=\"card-image\">\n                <img src={item.photo} />\n              </div>\n              <div className=\"card-content\">\n                <i className=\"material-icons\" style={{ color: \"red\" }}>favorite</i>\n                {item.likes.includes(state._id)\n\n                  ?\n                  <i className=\"material-icons\"\n                    onClick={() => { unlikePost(item._id) }}\n                  >thumb_down</i>\n                  :\n\n                  <i className=\"material-icons\"\n                    onClick={() => { likePost(item._id) }}\n                  >thumb_up</i>\n                }\n\n\n\n                <h6>{item.likes.length} likes</h6>\n                <h6>{item.title}</h6>\n                <p>{item.body}</p>\n                {\n                  item.comments.map(record => {\n                    return (\n                      <h6 key={record._id}><span style={{ fontWeight: \"500\" }}>{record.postedBy.name}</span>{record.text}</h6>\n                    )\n                  })\n                }\n                <form onSubmit={(e) => {\n                  e.preventDefault()\n                  makeComment(e.target[0].value, item._id)\n                }}>\n                  <input type=\"text\" placeholder=\"add a comment\" />\n                </form>\n\n              </div>\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n}\n\nexport default Home","import React,{useEffect,createContext,useReducer,useContext} from 'react'\nimport NavBar from './components/Navbar'\nimport \"./App.css\"\nimport {BrowserRouter,Route,Switch,useHistory} from 'react-router-dom'\nimport Home from './components/screens/Home'\nimport Signin from './components/screens/SignIn'\nimport Profile from './components/screens/Profile'\nimport Signup from './components/screens/Signup'\nimport CreatePost from './components/screens/CreatePost'\nimport { reducer,initialState } from './reducers/useReducer'\nimport UserProfile from './components/screens/UserProfile'\nimport SubscribeUserPosts from './components/screens/SubscribeUserPosts'\n\nexport const UserContext = createContext()\n\nconst Routing = ()=>{\n  const history = useHistory()\n  const {state,dispatch} = useContext(UserContext)\n  useEffect(()=>{\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if(user){\n      dispatch({type:\"USER\", payload:user})\n    }else{\n      // console.log(\"********** in App.js useEffect before history push **************\")\n      history.push('/signin')\n    }\n  },[])\n  return(\n    <Switch>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n      <Route path=\"/signin\">\n        <Signin />\n      </Route>\n      <Route path=\"/signup\">\n        <Signup />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/create\">\n        <CreatePost />\n      </Route>\n      <Route path=\"/profile/:userid\">\n        <UserProfile />\n      </Route>\n      <Route path=\"/myfollowingpost\">\n        <SubscribeUserPosts />\n      </Route>\n    </Switch>\n  )\n}\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer, initialState)\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n      <BrowserRouter>\n        <NavBar />\n        <Routing />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}